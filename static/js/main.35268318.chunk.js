(window.webpackJsonpplanningpoker=window.webpackJsonpplanningpoker||[]).push([[0],{19:function(e,t,n){e.exports=n(42)},24:function(e,t,n){},25:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),u=(n(24),n(1)),l=n(2),i=(n(25),function(e){var t=e.children,n=e.color,r=e.onClick,o=e.size;return a.a.createElement("div",{className:"card",style:{width:o||150,height:o||150,flex:1,justifyContent:"center",alignItems:"center",margin:8,background:n||"#fff",display:"inline-block"},onClick:r},t)});function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f,v=function(e){var t=e.ownId,n=e.users,r=Object.keys(n).filter((function(e){return!!n[e]&&!!n[e].value})).length===Object.keys(n).length,o=function(e){return e===t},c=Object.keys(n).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n[e],{key:e})})).sort((function(e,t){if(!e.value)return-1;if(!t.value)return 1;var n=parseInt(e.value);if(isNaN(n))return 1;var r=parseInt(t.value);return isNaN(r)?-1:n-r})),l=c[0].value,f=c[c.length-1].value;return a.a.createElement("div",null,c.map((function(e){var t,c=e.value===l,u=e.value===f;return a.a.createElement(i,{key:e.key,color:o(e.key)?"#c3f7f7":void 0},a.a.createElement("div",null,a.a.createElement("div",{style:{padding:16}},e.name),a.a.createElement("div",{style:{fontSize:80,color:r&&(c||u)?"red":"black"}},(t=e.key,n&&n[t]&&void 0!==n[t].value?o(t)?n[t].value:r?n[t].value:"?":"_"))))})))},b=[{value:"0",color:"#fff"},{value:"1",color:"#afa"},{value:"2",color:"#5f5"},{value:"3",color:"yellow"},{value:"5",color:"orange"},{value:"8",color:"red"},{value:"13",color:"violet"},{value:"20",color:"#bbb"},{value:"\ud83e\udd14",color:"#fff"}],p=function(e){var t=e.currentSelection,n=e.onClick;return a.a.createElement("div",null,b.map((function(e){var r=e.value,o=e.color;return a.a.createElement(i,{key:r,color:t?t===r?o:"white":o,size:50,onClick:function(){return n(r)}},a.a.createElement("div",{style:{fontSize:35}},r))})))},d=n(17),m=n.n(d);!function(e){e.CurrentValue="current_value",e.Leave="leave",e.RequestCurrentValue="request_current_value",e.Reset="reset"}(f||(f={}));var O=n(8),y=n.n(O),g=n(18);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=new m.a(4).format(),h=function(e,t,n){var r={type:f.CurrentValue,clientId:k,name:t,value:n};e.send(JSON.stringify(r))},E=Object(g.addUrlProps)({mapUrlToProps:function(e){return{room:e.room}}})((function(e){var t=e.room,n=void 0===t?"default":t,o=Object(r.useState)(!0),c=Object(l.a)(o,2),i=c[0],s=c[1],b=Object(r.useState)(Object(u.a)({},k,{name:localStorage.getItem("name")||"",value:void 0})),d=Object(l.a)(b,2),m=d[0],O=d[1],g=m[k],j=g.name,E=g.value,P=Object(r.useMemo)((function(){return new WebSocket("wss://connect.websocket.in/PlanningPokerApp?room_id=".concat(n))}),[n]),S=Object(r.useCallback)((function(e,t){h(P,e,t),O((function(n){return w({},n,Object(u.a)({},k,{name:e,value:t}))}))}),[P]),C=function(){O((function(e){return y()(e).toPairs().reduce((function(e,t){var n=Object(l.a)(t,2),r=n[0],a=n[1];return w({},e,Object(u.a)({},r,w({},a,{value:void 0})))}),{})}))};return Object(r.useEffect)((function(){window.onunload=function(){P.send(JSON.stringify({type:f.Leave,clientId:k}))}}),[P]),Object(r.useEffect)((function(){P.onopen=function(){s(!1),P.send(JSON.stringify({type:f.RequestCurrentValue})),h(P,j,E)},P.onmessage=function(e){var t=JSON.parse(e.data);if(t.type)switch(t.type){case f.CurrentValue:O((function(e){return w({},e,Object(u.a)({},t.clientId,{name:t.name,value:t.value}))}));break;case f.Leave:var n=t.clientId,r=y()(m).toPairs().filter((function(e){return Object(l.a)(e,1)[0]!==n})).reduce((function(e,t){var n=Object(l.a)(t,2),r=n[0],a=n[1];return w({},e,Object(u.a)({},r,w({},a,{value:void 0})))}),{});O(r);break;case f.RequestCurrentValue:h(P,j,E);break;case f.Reset:C();break;default:return}},P.onclose=function(e){}}),[j,P,m,E]),i?a.a.createElement("header",null,"Loading ..."):a.a.createElement("div",{className:"App"},a.a.createElement("div",{style:{flexDirection:"row",margin:16}},a.a.createElement("label",null,"Dein Name:",a.a.createElement("input",{style:{marginLeft:16},value:j,onChange:function(e){var t=e.target.value;localStorage.setItem("name",t),S(t,E)}}))),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){P.send(JSON.stringify({type:f.Reset})),C()}},"Reset")),a.a.createElement(p,{currentSelection:E,onClick:function(e){return S(j,e)}}),a.a.createElement(v,{ownId:k,users:m}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.35268318.chunk.js.map